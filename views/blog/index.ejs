<div class="container">
    <%- include('./../partials/_header_nav.ejs') %>
    <%- include ("./../partials/_alert_messages") %>

    <div class="row mb-2">
        <% posts.forEach(function(post){ %>
        <div class="col-md-6">
          <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
            <div class="col p-4 d-flex flex-column position-static">
              <strong class="d-inline-block mb-2 text-primary"><%= post.topic %></strong>
              <h4 class="mb-0"><%= post.title %></h4>
              <div class="mb-1 text-muted"><%= moment(post.createdAt).format( 'MMM-DD-YYYY') %><span class="font-weight-light"> by <%= post.user.name %></span></div>
              <p class="card-text mb-auto"><%= helper.truncate(helper.stripTags(post.body),100) %></p>
              <a href="/blog/<%= post._id %>" class="stretched-link">Continue reading</a>
            </div>
            <div class="col-auto d-none d-lg-block">
              <% if ( post.thumbnail ) { %>
              <img src="<%= post.thumbnail %>" alt="Thumbnail" width="200" height="250" style="background-color: #55595c;">
              <% } else { %>
              <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg"
                preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
                <title>Placeholder</title>
                <rect width="100%" height="100%" fill="#55595c" /><text x="50%" y="50%" fill="#eceeef"
                  dy=".3em"><%= post.topic %></text>
              </svg>
              <% } %>
            </div>
          </div>
        </div>
    
        <% }); %>
</div>